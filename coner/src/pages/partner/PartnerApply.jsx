import React, { useState, useEffect } from "react";
import styled from "styled-components";
import { useNavigate } from "react-router-dom";
import NavHeader from "../../components/common/Header/NavHeader";
import Button from "../../components/ui/Button";
import TextField from "../../components/ui/formControls/TextField";
import InputGroup from "../../components/ui/formControls/InputGroup";
import { db } from "../../lib/firebase";
import axios from "axios";
import { doc, setDoc, collection } from "firebase/firestore";

import AddressModal, {
  SERVICE_AREAS,
} from "../../components/common/Modal/AddressModal";
import Modal from "../../components/common/Modal/Modal";
import TermsAgreementModal from "../../components/common/Modal/TermsAgreementModal";

const TERMS_TEXT = `
# 협력업체 이용약관(v.20250806)

### CONER 협력업체용 이용약관 (v.20250806)

**운영주체**: 주식회사 코너플랫폼 | 대표: 서진형 | 이메일 : ceo@coner.kr

## 제1장 총칙

### 제1조 목적

본 약관은 주식회사 코너플랫폼(이하 "회사")가 운영하는 냉난방기 종합 서비스 플랫폼(CONER)을 협력업체(이하 "협력사")가 이용함에 있어 회사와 협력사 간의 권리, 의무, 책임사항 및 서비스 이용에 필요한 제반 사항을 정함을 목적으로 합니다.

### 제2조 정의

- "플랫폼"이란 회사가 운영하는 웹사이트([https://coner.kr](https://coner.kr/)), 코너 파트너스 및 관련 앱을 포함한 온라인 중개 시스템을 말합니다.
- "협력사"란 회사의 기준에 따라 인증을 마치고 고객에게 직접 냉난방기 서비스를 제공하는 사업자를 의미합니다.
- “협력기사”란 인증을 마친 협력사에 소속된 개인 회원을 의미합니다.
- "고객"이란 플랫폼을 통해 냉난방기 서비스를 신청하는 개인 또는 사업자를 의미합니다.
- " 냉난방기 서비스"란 냉난방기 설치, 철거, 수리, 이전, 청소, 점검 등 고객에게 제공하는 일체의 행위를 의미합니다.
- “서비스”란 냉난방기 서비스가 필요한 고객과 협력사 및 협력기사 사이의 냉난방기 서비스를 중개하는 행위를 의미합니다.
- “중개 수수료”란 협력사가 플랫폼 이용 및 코너플랫폼의 서비스를 통해 고객과 거래가 성사된 대가로 코너플랫폼에게 지급하는 수수료를 의미하며, 중개 수수료에는 결제 과정에 발생하는 결제 수수료 등도 포함되어 있습니다.
- “사용자 정보”란   냉난방기 서비스 제공을 위해 코너플랫폼이 적법한 절차에 따라 수집하여 협력사에게 제공하는 고객의 성명, 주소, 연락처 등 개인정보를 포함한 제반 정보를 의미합니다.

### 제3조 당사자의 관계

1. 회사는 전자상거래 등에서의 소비자보호에 관한 법률에 따른 통신판매중개자로서, 플랫폼을 통해 협력사와 고객 간의 냉난방기 서비스 거래를 중개하는 역할을 수행한다. 회사는 협력사가 제공하는  냉난방기 서비스의 거래 당사자가 아니다.
2. 협력사는 회사로부터 독립된 사업자로서, 자신의 판단과 책임 하에  냉난방기 서비스 제공 여부를 결정하고 이를 수행한다. 협력사는 회사의 피고용인, 대리인, 파트너, 법적 대표 또는 이에 준하는 어떠한 관계에도 있지 아니하다.
3.  냉난방기 서비스 제공에 관한 계약은 전적으로 협력사와 고객 간에 직접 체결되며, 회사는 해당 계약의 당사자가 아니다. 회사는 플랫폼의 **이용약관 및 개인정보처리방침** 등을 통해 이러한 사실을 고객에게 명확히 고지한다.   
4. 본 계약의 어떠한 조항도 회사와 협력사 간에 고용, 동업, 합작 투자, 대리 또는 프랜차이즈 관계를 형성하는 것으로 해석되지 아니한다.

### 제4조 플랫폼의 역할과 의무

회사는 다음 각 호의 역할과 의무를 수행한다.

1. 플랫폼 시스템의 안정적인 운영 및 유지보수
2. 고객의  냉난방기 서비스 신청을 접수하고, 플랫폼의 운영방침 및/또는 알고리즘에 따라 협력사에게 해당 정보를 전달하여 매칭을 중개하는 업무
3. 고객이 플랫폼을 통해 결제를 진행할 경우, 서비스 대금의 수령 및 본 계약에 따른 정산 업무
4. 고객이 협력사가 제공한  냉난방기 서비스에 대해 평가(후기, 별점 등)할 수 있는 기능 제공
5. 고객으로부터  냉난방기 서비스 관련 불만이나 분쟁이 접수될 경우, 이를 신속히 협력사에게 전달하고 해결 과정을 지원하는 업무

### 제5조 협력사의 역할과 의무

1. 협력사는 다음 각 호의 역할과 의무를 수행한다.
    1. 플랫폼에 자신의 사업자 정보, 서비스 가능 지역, 작업 가능 일정, 보유 자격 등 제반 정보를 정확하게 등록하고 항상 최신 상태로 유지할 의무
    2. 자신의 전문 지식과 기술협력사 바탕으로 관련 법규 및 산업 표준에 따라 성실하게 서비스를 수행할 의무
    3.  냉난방기 서비스 수행에 필요한 모든 장비, 공구, 자재, 차량, 인력 등을 자신의 비용과 책임으로 확보하고 관리할 의무
    4.  냉난방기 서비스의 내용, 추가 비용 발생 가능성 등에 대해 사용자에게 충분히 설명하고 동의를 얻을 의무
    5.  냉난방기 서비스와 관련하여 발생하는 사용자의 문의, 불만, 분쟁에 대해 응대하고 적극적으로 해결할 책임
    6. 자신이 제공한  냉난방기 서비스의 하자에 대해 관련 법령 및 자신의 보증 정책에 따라 무상 수리 등 사후관리(A/S) 책임협력사 부담할 의무
    7. 본 계약 및 관련 법령에서 정한 모든 사항을 준수할 의무
2. 서비스 이용을 위해 인증한 협력사와 협력기사 정보는 실제  냉난방기 서비스 제공자와 동일해야 합니다. 하도급 행위 등 본 조항에 따른 권리∙의무를 회사의 사전 동의 없이 타인에게 양도, 증여하거나 담보로 제공하는 행위는 금지됩니다.
3. 협력사와 협력기사는 회사가 제공하는 양식에 따라 프로필을 등록해야 하며, 허위 정보의 등록은 불가합니다.
4. 협력사는 회사가 제공하는 방법에 따라 서비스를 이용해야 하며,  냉난방기 서비스 판매가 목적이 아닌 결제·거래 부정 행위 등 다른 목적의 허위등록, 판매 가장등록, 신용카드 결제 시스템 또는 통신과금 시스템만을 이용하기 위한 등록은 불가합니다.
5. 협력사 및 협력기사는 회사가 서비스의 판매 촉진과 신뢰도 상승을 위해 요청한 프로필/이미지 등의 등록 기준을 확인하고, 이와 관련한 회사의 요청사항이 있는 경우 협조해야 합니다.
6. 협력기사는 가격 정보 및 기본 옵션,  냉난방기 서비스 설명 등  서비스 상세 정보에 대해 사실만을 구체적으로 명시해야 하며, 예외적인 범위에 대해서는 의뢰인과 사전 합의해야 합니다.
7. 협력사는 원칙적으로 서비스 상세 정보에 스스로 제공할 수 있는  냉난방기 서비스의 내용만을 명시해야 하며, 일부 또는 전부를 도급∙위임해야 하는  냉난방기 서비스에 대해서는 회사가 승인하는 범위 내에서 추가로 명시할 수 있습니다. 이 경우, 의뢰인과는 별도의 사전 합의를 진행해야 합니다.
8. 협력사 및 협력기사는  냉난방기 서비스 상세 정보에 직접 결제를 유도하는 문구나 의뢰인의 정당한 권리(청약 철회권 등)를 제한하거나, 기타 법령이나 약관에 위배되는 내용을 명시할 수 없습니다.
9. 협력기사는 의뢰인의 문의에 성실하게 응답해야 합니다.
10. 협력사 및 협력기사는 본 약관 제13조-제22조에 따라 냉난방기 서비스 전 과정을 성실하게 이행해야 합니다.
11. 협력사는 서비스 관련 정보(만족도, 서비스 성공률, 작업일 준수율, 알림·공지사항의 확인 등)를 지속해서 관리하여야 하며, 이를 반영하는 회원 등급 정책에 협조해야 합니다.
12. 협력사는  냉난방기 서비스 불가한 사유가 발생한 경우 회사에서 제공하는 기능을 사용하여 판매를 일시중단하거나 휴가모드를 설정하여야 하며, 거래가 진행 중인 경우에는 의뢰인에게 지체없이 그 사실을 알리고 필요한 조치를 취해야 합니다.
13. 협력사 및 협력기사는 스스로 또는 다른 회원을 통하여 고의로 서비스 평가 등의 판매 데이터를 수정·조작하는 등 서비스의 안전성과 신뢰성을 해치는 부정한 행위를 할 수 없습니다.
14. 협력사 및 협력기사는 의뢰인과의 거래 성사 여부와 무관하게 의뢰인으로부터 전달받은 의뢰 내용 및 상담 등 소통한 내용에 대해 제3자에게 공개, 제공, 개시 또는 누설하거나 유출하여서는 안 되며, 의뢰인으로부터 전달받은 내용을 토대로 의뢰인을 협박하거나 무리한 요구를 하여서는 안 됩니다. 협력사 및 협력기사는 본 항에 따른 비밀유지의무를 위반하여 발생하는 일체의 책임을 부담합니다.
15. 협력사 및 협력기사는 계약 이행 과정에서 알게 된 의뢰인 등 다른 회원의 개인 정보를 법률·약관 또는 회사의 개인정보처리방침에서 정한 목적 외의 용도로 사용할 수 없습니다. 회사의 고의 또는 과실과 무관하게 특정 협력사 및 협력기사가 처리·처리 중인 다른 회원 또는 제3자의 개인 정보가 침해된 경우, 회사는 그에 대하여 책임을 지지 않으며 협력사가 자신의 노력과 비용으로 회사를 면책시켜야하며, 만약 이와 관련하여 회사가 손해를 입은 경우, 협력사는 그에 대해서 손해배상을 해야합니다. 

### **제6조** 약관의 게시 및 개정

1. 회사는 본 약관의 내용과 상호 및 대표자 성명, 영업소 소재지 주소(소비자의 불만을 처리할 수 있는 곳의 주소를 포함), 전화번호, 이메일 주소, 사업자등록번호, 통신판매업 신고번호 등을 회원이 쉽게 알 수 있도록 회사의 초기 서비스 화면(전면)에 게시합니다. 다만, 약관의 내용은 회원이 연결 화면을 통하여 볼 수 있도록 할 수 있습니다.
2. 회사는 회원이 약관에 동의하기에 앞서 약관에 정해져 있는 내용 중 청약철회 및 환불 조건 등과 같은 중요한 내용을 이해할 수 있도록 별도의 연결 화면 또는 팝업 화면 등을 제공하여 약관에 대한 회원의 확인을 구하여야 합니다.
3. 본 약관의 내용은 서비스의 화면에 게시하거나 기타의 방법으로 공지하고, 본 약관에 동의한 회원 모두에게 그 효력이 발생합니다.
4. 회사는 필요한 경우 「전자상거래 등에서의 소비자보호에 관한 법률」, 「약관의 규제에 관한 법률」, 「전자문서 및 전자거래기본법」, 「전자금융거래법」, 「전자서명법」, 「정보통신망 이용촉진 및 정보보호 등에 관한 법률」, 「방문판매 등에 관한 법률」, 「소비자기본법」 등 관련 법령을 위배하지 않는 범위 내에서 본 약관을 변경할 수 있습니다. 본 약관이 변경되는 경우 회사는 변경사항을 시행일자 7일 전부터 회원에게 서비스 공지사항에서 공지 또는 별도로 통지하는 것을 원칙으로 하며, 피치 못하게 회원에게 불리한 내용으로 변경할 경우에는 최소한 그 시행일자 30일 전부터 제11조에 규정한 방법으로 알려 드리겠습니다.
5. 회사는 전 항에 따라 공지 또는 통지를 하면서 공지 또는 통지일로부터 개정약관 시행일 7일 후까지 거부 의사를 표시하지 아니하면 승인한 것으로 본다는 뜻을 명확하게 고지하였음에도 회원의 의사표시가 없는 경우에는 변경된 약관을 승인한 것으로 봅니다.
6. 회사가 본 약관을 개정할 경우에는 그 개정약관은 그 적용일자 이후에 체결되는 계약에만 적용되고 그 이전에 이미 체결된 계약에 대해서는 개정 전의 약관조항이 그대로 적용됩니다. 다만 이미 계약을 체결한 회원이 개정약관 조항의 적용을 받기를 원하는 뜻을 제4항에 의한 개정약관의 공지 기간 내에 회사에 송신하여 회사의 동의를 받은 경우에는 개정약관 조항이 적용됩니다.
7. 회원은 개정약관에 동의하지 않을 권리가 있으며 개정약관에 동의하지 않을 경우 개정약관의 적용을 받는 서비스의 이용이 불가합니다. 회원은 이용을 중단하고 이용계약의 해지를 선택할 수 있습니다.
8. 본 약관은 회원이 본 약관에 동의한 날로부터 이용계약의 해지 시까지 적용하는 것을 원칙으로 합니다. 단, 본 약관의 일부 조항은 이용계약의 해지 후에도 유효하게 적용될 수 있습니다.
9. 본 약관은 협력사와 협력기사 이용에 대한 개별 약관으로서, 본 약관에 명시되지 아니한 사항은 서비스와 관련된 관계법령 또는 상관례에 따릅니다.

---

# 제2장 이용계약 및 정보보호

### 제7조 회원가입

1. 제1항에 따라 회원가입하는 경우, 회원이 회사가 정한 가입 양식에 정해진 사항을 기입한 뒤 본 약관 및 개인정보수집∙이용동의서 등 회원의 동의가 필요한 사항에 대하여 동의한다는 의사표시를 하면, 회원과 회사 사이에 이용계약이 체결됩니다.
2. 회원이 본 약관에 동의하고 이 계약을 체결하는 것은 회사에서 제공하는 방식과 내용으로 이용하고, 회사에서 정한 본 약관 및 개별 약관과 정책을 준수한다는 의사를 표시한 것으로 간주됩니다.

### 제8조 개인정보의 제공 및 보호

1. 회사는 서비스 중개 및 이행이라는 목적협력사 위해, 개인정보 보호법 등 관련 법령에 따라 고객으로부터 적법하게 동의를 받은 범위 내에서 사용자 정보를 협력사에게 제공한다.
2. 협력사는 회사로부터 제공받은 사용자 정보를 다음 각 호에 따라 엄격히 관리해야 한다.
    1. 오직 해당  냉난방기 서비스의 수행, 사후관리, 대금 정산 등 고객이 동의한 목적 범위 내에서만 이용해야 하며, 어떠한 경우에도 마케팅 등 다른 목적으로 이용하거나 제3자에게 재제공 또는 유출해서는 안 된다.
    2. 개인정보 보호법에서 정하는 기술적관리적 보호조치를 이행하여 사용자 정보가 분실, 도난, 유출, 위조, 변조 또는 훼손되지 않도록 안전하게 관리해야 한다.
    3.  냉난방기 서비스 제공 및 정산 등 제공받은 목적이 달성된 후에는 지체 없이 해당 사용자 정보를 복구 불가능한 방법으로 파기해야 한다.
3. 협력사의 고의 또는 과실로 인해 사용자 정보가 유출되어 발생하는 모든 민·형사상 책임 및 손해배상 책임은 전적으로 협력사에게 있다. 협력사는 이러한 사고 발생 시 즉시 회사에게 통지하고, 회사의 조사 및 사고 수습에 적극 협력해야 한다.

### 제9조 가입 제한

1. 회사는 아래 각 호의 경우에는 회원가입을 제한하고 있습니다.
    1. 이미 가입된 회원과 실명 정보 및 계정 유형(개인, 기업)이 동일한 경우(1인당 최대 1개의 개인계정, 1개의 기업계정을 보유할 수 있음)
    2. 미성년자가 회원가입 하는 경우
    3. 만 14세 미만인 자가 가입하는 경우
    4. 휴대폰 본인인증이 불가한 경우
    5. 서비스 운영정책 위반으로 회사로부터 조치를 받은 자가 조치 기간 중 이용계약을 임의 해지하고 재가입하고자 하는 경우
    6. 서비스 운영정책 위반으로 가입 제한 조치를 받은 자가 가입하고자 하는 경우
2. 이 외에도 회사는 관련 법령 및 본 약관에 위배되거나 사회적인 질서, 미풍양속을 저해할 우려가 있는 경우 회원가입 및 서비스 이용을 제한할 수 있습니다.

### 제10조 정보 변경 및 관리 책임

1. 회원은 등록한 정보에 변경이 있을 경우 즉시 수정해야 하며, 이를 이행하지 않아 발생한 손해는 본인의 책임입니다.
2. 회사는 회원의 개인정보 보호를 위해 「개인정보처리방침」을 따릅니다.

### 제11조 통지

회사는 다음의 방식으로 회원에게 통지할 수 있습니다.

1. 회사가 회원에 대한 통지를 하는 경우 본 약관에 별도 규정이 없는 한 플랫폼 내 공지사항, 배너 또는 회원이 제공한 이메일 주소, (휴대)전화번호, 문자 메세지 등 서비스 내 각종 통지 수단으로 할 수 있습니다.
2. 회사는 회원의 권리에 중대한 영향을 미치지 않는 사항에 대해서는 7일 이상 회사가 제공하는 서비스에 공지함으로써 제1항의 통지에 갈음할 수 있습니다.

---

# 제3장 서비스 이용

### 제12조 프로필 등록

1. 협력사는 프로필 등록 시 의뢰인이 협력사에 대한 정보를 확인할 수 있도록 다음과 같은 사항을 정확하게 기재하여야 합니다.
    1. 회사 이름
    2. 회사 주소
    3. 회사 대표자 이름
    4. 연락 가능한 정보
    5. 경력·자격 사항
    6. 서비스 가능한 지역, 종류 등
    7. 회사 로고(선택사항)
2. 협력기사는 프로필 등록 시 의뢰인이 협력기사에 대한 정보를 확인할 수 있도록 다음과 같은 사항을 정확하게 기재하여야 합니다.
    1. 프로필 사진
    2. 기사 이름
    3. 연락 가능한 정보
    4. 경력·자격 사항
3. 회사는 협력사 및 협력기사가 등록한 프로필 정보를 별도의 승인 없이 공개하며, 승인이 필요한 일부 항목에 대해서는 검토 및 승인 후에 공개할 수 있습니다.
4. 회사는 아래의 이유로 협력사 및 협력기사가 등록한 프로필의 수정이 필요한 경우 협력사 및 협력기사에게 사전 고지한 후 수정할 수 있습니다.
    1. 오탈자
    2. 기재 사항 누락
    3. 기타 회사가 필요하다고 판단하는 경우
5. 협력사 및 협력기사는 등록한 프로필 정보를 별도의 기한 없이 활용할 수 있습니다. 다만 등록한 정보가 변경되었거나 회사의 요청 사항이 있는 경우에는 정보를 업데이트해야 합니다.

### 제13조 서비스 수행 기준 및 보증

1. 협력사는 자신의 명의와 책임 하에, 관련 법령, 제조사 설치 기준, 산업 표준 등협력사 준수하여 최고 수준의 품질로  냉난방기 서비스를 수행해야 한다.
2. 협력사는  냉난방기 서비스 수행 과정에서 고객 및 제3자의 생명, 신체, 재산에 손해가 발생하지 않도록 모든 안전 조치를 취해야 할 의무가 있다.
3. 협력사는 자신이 수행한  냉난방기 서비스의 결과물에 대해 관련 법령(예: 소비자기본법 등)에서 정한 기준 이상의 자체적인 품질 보증(A/S) 정책협력사 수립하고 고객에게 명확히 고지해야 한다. 회사은 플랫폼을 통해 협력사의 보증 정책을 고객이 확인할 수 있도록 지원할 수 있다.
4. 협력사는  냉난방기 서비스의 하자, 협력사의 과실로 인한 손해 발생 등 서비스 수행과 관련된 모든 책임은 전적으로 협력사에게 귀속된다.
5. 협력사는 **냉난방기 서비스 완료일로부터 6개월 이내에 협력사의 귀책사유로 인한 하자가 발생한 경우, 자신의 책임과 비용으로 무상 재시공(A/S)을 제공해야 한다.** 회사는 해당 하자가 해결될 때까지 협력사에 대한 서비스 대금 정산을 보류할 수 있다.

### 제14조 고객 분쟁 해결

1.  냉난방기 서비스의 내용, 품질, 비용, 하자, 사후관리 등과 관련하여 고객과 협력사 간에 분쟁이 발생한 경우, 이는 당사자인 협력사와 고객이 직접 해결하는 것을 원칙으로 한다.
2. 회사는 전자상거래 등에서의 소비자보호에 관한 법률 제20조 제3항에 따라, 플랫폼을 통해 접수된 “사용자”의 불만이나 분쟁 해결 요청을 지체 없이 협력사에게 전달하고, 그 처리 경과를 확인하는 등 분쟁 해결에 필요한 조치를 신속히 시행한다.
3. 협력사는 회사로부터 전달받은 분쟁 사항에 대해 영업일 기준 24시간 이내에 고객에게 연락을 취하는 등 성실하게 해결을 위해 노력해야 한다.
4. 협력사가 정당한 사유 없이 분쟁 해결을 지연하거나, 동일한 유형의 분쟁이 반복적으로 발생하는 등 플랫폼의 신뢰도를 심각하게 훼손한다고 회사가 판단하는 경우, 회사는 플랫폼 이용 제한, 계약 해지 등의 조치를 취할 수 있다.

### 제15조 회원탈퇴, 금지행위 및 이용제한

1. 회사는 협력사가 본 약관 및 회사의 서비스 운영을 위하여 정하는 정책에 따른 의무를 위반하거나 서비스의 정상적인 운영을 방해하거나 다음 각 호에 해당하는 경우, 서비스 판매를 중지하거나 경고, 사전 통보 후 이용정지 및 영구 이용정지 등으로 서비스 이용을 제한할 수 있고 민형사상의 책임을 물을 수 있습니다.
    1. 협력사에게 제5조에서 정하고 있는 가입 제한 사유가 있음이 확인된 경우
    2. 회사가 제공하는 서비스 이용과 관련하여 협력사가 부담하는 채무를 기일에 지급하지 않는 경우
    3. 다른 사람의 서비스 이용을 방해하거나 그 정보를 도용하는 등 전자상거래 질서를 위협하는 경우
    4. 서비스를 이용하여 법령 또는 본 약관 및 서비스 운영정책에서 금지하거나 공서양속에 반하는 행위를 하는 경우
    5. 회원 간 직접 결제 등 회사가 제공하는 서비스의 원활한 진행을 방해하는 행위를 하거나 시도한 경우
    6. 본인 또는 다른 회원의 아이디를 이용하여 내용, 조건 등이 실질적으로 동일한 용역 등을 중복하여 등록·판매 한 경우
    7. 협력사에게 파산·금치산·한정치산·회생·파산의 결정 또는 선고, 사망, 실종선고, 해산, 부도 등 정상적 서비스 이용을 불가능하게 하거나 곤란하게 하는 사유가 발생한 경우
    8. 협력사 및 협력기사가 사회 질서, 미풍양속을 저해하거나 회사 또는 이용자들에게 피해를 줄 우려가 있다고 판단되는 경우

### 제 16조 용역 등의 공급

1. 회사는 고객이 결제한 이후 메일(e-mail) 또는 문자(SMS), 전화 등의 알림 채널을 통하여 협력기사에게 접수된 의뢰 정보를 통지합니다. 협력기사는 회사가 발송하는 알림 및 의뢰 서비스 화면을 통하여 의뢰 내역을 확인할 수 있습니다.
2. 협력기사는 제1항에 따른 의뢰 정보를 통지받은 후 작업을 진행합니다. 정해진 기간 내에 작업이 불가하거나 기존 작업 범위(의뢰인과 별도로 합의한 업무 범위가 있다면 의뢰인과 합의한 작업범위를 포함함)를 변경해야 하는 경우, 협력기사는 즉시 의뢰인과 별도 합의를 진행해야 합니다.
3. 협력기사는 작업 범위(의뢰인과 별도로 합의한 업무 범위가 있다면 의뢰인과 합의한 작업범위를 포함함)를 완료하지 않은 상태에서 의뢰인에게 결제를 요청해서는 안 됩니다.

### 제 17조 **취소 및 환불**

1. 의뢰 취소는 협력사와 의뢰인 모두가 상대방에게 요청할 수 있으며, 의뢰 취소 및 환불 여부는 회사가 서비스 이용약관에서 제공하는 아래의 [취소 및 환불 규정]과 당사자 간 합의에 따라 결정됩니다.
2. 협력사는 예상치 못한 사유로 정상적인 작업 진행이 어려운 경우 등 용역 등의 제공이 불가한 경우에는 지체 없이 의뢰인에게 의뢰 취소 사유를 안내하고 동의를 받은 후에 모바일 앱을 통해서 내 의뢰 취소를 요청하는 기능을 사용하여 조치를 취하여야 합니다.
3. 협력사 및 협력기사가 의뢰인으로부터 의뢰 취소(청약철회)를 요청받은 경우, 청약철회 가능 여부를 검토하고 환불에 필요한 조치를 합니다. 다만, 협력사 및 협력기사는 다음 각 호의 어느 하나에 해당하면 의뢰인의 요청을 거부할 수 있습니다.
    1. 회원 탈퇴한 의뢰인이 환불을 요구할 경우
    2. 기타 정당한 환불 사유로 판명되지 않은 경우
4. 협력사가 환불을 결정한 시점에 회사로부터 용역 등의 대금을 이미 지급받은 때에는 그 사실을 의뢰인에게 통지하고 환급을 위한 조치를 취하여야 합니다.
5. 협력사와 해당 건에 대한 결제 대금 정산이 완료된 후에는 중개 서비스가 종료된 것으로, 거래 취소(청약 철회), 환불, 용역 등에 대한 수정과 판매 수수료 및 구매 수수료 반환 등의 절차는 원칙적으로 불가능하며, 협력사와 고객은 회사에 대하여 이의를 제기할 수 없습니다. 이 경우 구매대금 환불 등의 모든 문제는 당사자 간 직접 해결해야 합니다.

<aside>

**[취소 및 환불 규정]**

1. 환불은 아래 기준에 따릅니다:
    1. 현장 방문 전 : 취소 가능
    2. 매칭된 협력기사가 현장 방문 후 : 출장비 환불 불가(출장비 지불)
    3. 냉난방기 서비스 진행 후: 환불 불가 (단, 협의 하에 처리 가능)
</aside>

### 제18조 중개 수수료

1. 회사는 회사가 제공하는 서비스에 대하여 중개 수수료를 부과할 수 있으며, 중개 수수료는 서비스의 종류와 카테고리별로 다르게 책정될 수 있습니다. 별도의 기준이 있는 경우, 회사는 본 약관 제11조에 규정한 방법 또는 기타의 방법으로 협력사에게 사전 고지합니다.
2. 진행 중인 주문이 취소되는 경우 중개 수수료는 부과되지 않으며, 의뢰인이 구매 확정을 하거나 자동 구매 확정 절차가 진행되면 서비스가 종료되므로 중개 수수료 반환은 원칙적으로 불가합니다.
3. 회사는 협력사가 고객에게 제공한  냉난방기 서비스의 **총 결제금액의 20%를 중개 수수료로 수취**하며, 해당 수수료에는 PG사 수수료 및 기타 수수료가 포함됩니다.
4. 수수료율은 계약 변경 또는 고지에 따라 변경될 수 있으며, 협력사는 사전 고지된 수수료율에 동의한 것으로 간주됩니다.

### 제19조 수익금 및 정산

1. 회사가 제공하는 결제 서비스로 용역 등을 결제한 고객이 본 약관 제16조에 따라 용역 등을 수령하고, 결제가 진행된 경우, 회사는 판매 수수료를 공제한 금액을 협력사가 지정한 계좌에 수익금으로 지급합니다.
2. 제1항의 절차가 진행되면 중개서비스가 종료되므로 중개 수수료 반환은 원칙적으로 불가하며, 이 경우 결제대금 환불 등의 모든 문제는 협력사와 고객이 직접 해결해야 합니다.
3. 고객의  냉난방기 서비스가 완료된 즉시, 협력사는 현장에서 고객에게 결제를 요청하고 플랫폼 내 결제 완료 여부를 반드시 확인해야 합니다.
4. 결제 확인 지연으로 인한 정산 지연 책임은 협력사에게 있습니다.
5. 고객의 냉난방기 서비스가 완료되고 결제가 확인된 시점으로부터 **3영업일 후**, 해당 건은 정산 대상 건으로 간주됩니다.
6. 회사는 매월 5일, 15일, 25일 총 3회에 걸쳐 전자세금계산서를 일괄 발행하고 정산을 진행하며, 본 약관 제7조의 방법으로 협력사에게 통지합니다.(단, 정산 일자가 공휴일인 경우, 다음 영업일에 정산합니다.)
7. 회사는 협력사에게 정산 시 협력사의 귀책사유로 인해 발생한 비용 등의 채무가 있는 경우에는 해당 금액을 공제한 후 출금할 수 있습니다.
8. 협력사는 회사에 대한 용역 등의 대금 채권을 타인에게 양도할 수 없습니다. 다만, 협력사의 채권자가 제기한 신청에 의한 대금의 가압류, 압류 및 추심명령 등 법원의 결정이 있을 경우, 회사는 협력사와 채권자 간의 합의 또는 채무액 변제 등으로 위 결정이 해제될 때까지 수익금 출금을 보류하거나 제3채무자로서 정당하게 협력사의 채무를 변제할 수 있습니다.
9. 회사는 아래 사유가 발생하는 경우 **최대 120일까지 수익금의 정산을 중단할 수 있습니다.** 이 경우 협력사가 거래 사실 증빙서류 등 관련 서류를 회사에 제공하는 때에는 회사가 이를 확인한 후 출금을 진행할 수 있습니다.
    1. 협력사가  냉난방기 서비스 제공 방식에 어긋난 제공이나  냉난방기 서비스 판매가 목적이 아닌 결제·거래 부정 행위 등의 다른 목적으로 허위 등록, 판매 가장등록, 신용카드 결제 시스템 또는 통신과금 시스템만을 이용하기 위한 등록을 한 경우
    2. 협력사가 매매 부적합한 용역 등을 판매한 것으로 확인되거나 부정 또는 부당한 방법으로 수익금을 취득한 경우, 혹은 이에 준하는 행위가 의심되는 경우
    3. 고객의 불만이 다수 접수되는 등의 사유로 추가적인 환불 요청이 염려되는 경우
    4. 관련 법령의 규정에 의하거나 기타 합리적인 사유가 있는 경우(법원·수사기관·금융기관 등 권한 있는 기관의 요청이 있는 경우, 기타 위탁사를 통해 사실 확인이 필요한 경우 등)
10. 전항에서 정한 기간을 넘어 수익금의 정산을 중단해야 하는 부득이한 사유가 있는 경우, 회사는 해당 사항을 본 약관 제11조의 방법으로 협력사에게 통지하고 유보하거나 상계할 수 있습니다.
11. 협력사가 지정한 입금계좌의 예금주가 협력사 인증 정보와 상이한 경우 정산이 불가능하며, 회사는 해당 조건에 맞는 계좌 관련 서류 증빙이 완료될 때까지 수익금의 정산을 보류할 수 있습니다.
12. 협력사가 판매하고 있는 다수의 용역 등 중 일부에 대하여 본 조에 따른 수익금 정산 보류 사유가 발생한 경우, 회사는 다른 회원의 피해 방지를 위해 필요한 경우 등 합리적인 사유가 있다면 회사는 해당 사유가 직접적으로 발생하지 않은 다른 용역 등의 전부 또는 일부에 대한 정산을 일정 기간 보류할 수 있습니다.
13. 고객이 신용카드로 결제한 경우, 회사는 정당한 이유가 있다면 여신전문금융업상 규정에 따른 신용카드 부정사용을 통한 허위거래 여부를 판단하기 위해 최고 60일까지 협력사에 대한 용역등의 대금 정산, 수익금 출금을 보류할 수 있습니다. 이 경우, 회사는 거래 사실 확인을 위한 증빙을 협력사에게 요구할 수 있으며, 사실 여부 확인 후 협력사에게 대금 정산, 수익금 출금을 진행할 수 있습니다.
14. 회사는 수익금 지급과 관련한 수익금 내역, 출금 내역, 세금계산서 등의 정보를 관련 서비스 화면에서 안내합니다.
15. 회사는 관련 법령 등에 따라 협력사의 분기별 매출 명세를 국세청으로 제출합니다. 협력사는 매출 신고가 누락되지 않도록 관리해야 하며, 회사는 관련 자료의 제공 외의 세무 처리에 대해 개입하거나 책임지지 않습니다. 단, 본 조 제19항의 협력사 동의 의사에 따라 처리되는 매출 건은 예외로 합니다.
16. 현금영수증 발행 의무가 있는 협력사는 고객의 요청사항 또는 국세청 지정 코드에 따라 현금영수증을 발행해야 합니다.
17. 세금계산서 발행 의무가 있는 협력사는 고객의 요청에 따라 세금계산서를 발행해야 합니다. 단, 본 조 제19항의 협력사의 동의 의사에 따라 처리되는 매출 건은 예외로 합니다.
18. 협력사가 판매한 의뢰 건이 기업에 해당하는 경우, 회사는 고객에게 세금계산서를 직접 발행하고 협력사에게는 세금계산서 발행을 요청할 수 있습니다.

### 제20조 서비스 일정 이행 의무

1. 협력사는 고객과 플랫폼을 통해 확정된  냉난방기 서비스 일정을 성실히 이행해야 합니다.
2. **일정 미이행 시 회사는 정산 보류, 고객 보상 비용 일부 부담 청구, 협력사 자격 박탈 등의 조치**를 취할 수 있습니다.
3. 냉난방기 서비스 완료 후 고객과의 갈등 또는 컴플레인 발생 시 원활한 사실 확인을 위해, 협력사는 냉난방기 서비스 전·후 사진을 반드시 촬영하고 플랫폼 내에 첨부해야 합니다. 해당 자료 미제출로 인해 분쟁이 발생한 경우, 협력사에게 불리하게 작용할 수 있습니다.

### 제21조 서비스 품질 및 하자 처리

1. 협력사는 냉난방기 서비스를 완료한 후, 관련 법령에 따른 하자 보증 기간(3개월) 동안 하자 발생 시 무상 재작업을 제공합니다. **다만, 협력사가 하지 않거나 못하는 경우, 협력사의 동의를 받아 회사가 협력사 대신 하자보수 작업을 진행할 수 있다.**
2. 위 제1호 단서에 따라 회사가 하자보수를 진행한 경우, 그에 대한 서비스 제공 비용은 해당 협력사가 부담한다.
3. 서비스별 하자 보증 기간은 플랫폼 내 별도 명시하며, 협력사는 이를 확인 및 동의해야 합니다.

### 제22조 계정의 관리

1. 회사는 전자지급결제대행 서비스 제공 시 계정(아이디, 비밀번호)를 선정하여 회원의 신원, 권한 및 거래지시의 내용 등을 확인합니다.
2. 회원은 계정를 사용함에 있어서 다른 법률에 특별한 규정이 없는 한 다음 각 호의 행위를 하여서는 아니 됩니다.
    1. 계정을 양도하거나 양수하는 행위
    2. 계정을 대여하거나 사용을 위임하는 행위
    3. 계정을 질권 및 기타 담보 목적으로 하는 행위
    4. a호부터 c호까지의 행위를 알선하는 행위
3. 회원은 자신의 계정를 제3자에게 누설 또는 노출하거나 방치하여서는 안 되며, 계정의 도용이나 위조 또는 변조를 방지하기 위하여 충분한 주의를 기울여야 합니다.
4. 회사는 회원으로부터 계정의 분실이나 도난 등의 통지를 받은 때에는 그때부터 제3자가 그 계정를 사용함으로 인하여 회원에게 발생한 손해를 배상할 책임이 있습니다.

### 제23조 유료 광고

1. 협력사는 용역 등에 유료 광고를 구매·적용할 수 있습니다. 회사는 유료 광고 제공에 대한 내용을 당해 서비스가 제공되는 개별 페이지에서 유의사항의 형태로 안내합니다.
2. 회사는 유료 광고의 종류와 내용, 이용료를 신설 또는 변경할 수 있으며 이 경우 본 약관 제11조에 규정한 방법으로 알려드리겠습니다.

---

# 제4장 **금지행위 및 계약 해지**

### 제24조 직거래 및 고객 유출 금지

1. 협력사는 회사의 플랫폼을 거치지 않고 고객과 별도 계약을 체결하거나 직거래를 유도해서는 안 됩니다.
2. 고객과 공모하여 회사에 고의로 거래 정보를 은닉한 경우, 협력사는 회사에 해당 **거래대금의 50%를 손해배상금으로 지급**해야 합니다.
3. 위 위반 행위가 적발될 경우, 회사는 즉시 계약 해지 및 정산 보류, 법적 조치를 취할 수 있습니다.

### 제25조 계약 해지

1. 회사는 다음 각 호에 해당하는 경우 **계약을 해지할 수 있습니다**:
    - 냉난방기 서비스 일정 반복 미준수
    - 고객 불만 지속 접수 및 품질 하자 재발
        - 직거래 시도 또는 은닉
2. 계약 해지 시 회사는 사전 통지 후 7일 내 계약을 종료할 수 있으며, 남은 정산 건은 회사의 정책에 따라 유보 또는 보류될 수 있습니다.

### 제26조 계약 유효기간 및 갱신

1. **본 계약의 유효기간은 계약 체결일로부터 1년이며, 종료 30일 전까지 별도 해지 요청이 없는 경우 자동으로 1년 연장됩니다.**
2. 회사는 계약 갱신 여부에 따라 서비스 활동을 제한하거나 조건을 재조정할 수 있습니다.

---

# 제5장 평가 및 등급제

### 제27조 평가 및 인증 시스템

1. 회사는 협력사에 대해 고객 리뷰, 일정 이행율, 하자율, 정산 오류율 등을 기준으로 평가를 진행할 수 있습니다.
2. 평가 결과는 등급제로 환산되어 정산 우선순위, 고객 노출도, 내부 보상 등 혜택 차등 지급 기준으로 활용됩니다.

---

# 제6장 기타

### 제28조 책임제한

회사는 협력사에게 본 약관에 명시되지 않는 사항에 대한 약정이나 보증을 하지 않습니다. 단, 회사 및 회사의 임직원, 대리인의 고의 또는 중대한 과실이 인정되는 경우에는 그러하지 아니합니다.

### 제 29조 손해배상

1. 양 당사자는 본 약관의 규정 또는 관련 법령을 위반하여 손해가 발생한 경우 손해배상을 청구할 수 있습니다. 이 경우 양 당사자는 **고의, 과실이 없음을 입증하지 못하는 경우 책임을 면할 수 없습니다.**
2. 회사는 회사의 고의, 과실이 없는 한 협력사 상호간 또는 협력사와 제3자 상호간에 서비스를 매개로 발생한 분쟁에 대해서는 개입할 의무가 없으며 이로 인한 손해를 배상할 책임도 없습니다.
3. 회사는 협력사가 서비스를 이용함으로써 기대되는 수익을 얻지 못하거나 서비스를 통해 얻은 정보를 이용하여 발생한 손해에 대해서는 책임을 부담하지 않습니다.
4. 회사가 천재지변 또는 이에 준하는 불가항력으로 인하여 서비스를 제공할 수 없는 경우에는 관련 책임이 면제됩니다.
5. 회사는 협력사의 귀책사유로 인한 서비스 이용의 장애에 대해서는 책임을 지지 않습니다.
6. 회사는 협력사와 협력기사로 인해 생긴 갈등에 대하여 책임을 지지 않으며, 협력사가 자신의 노력과 비용으로 회사를 면책시켜야하며, 만약 이와 관련하여 **회사가 제 3자에 대한 손해를 입은 경우, 협력사는 그에 대해서 손해배상을 해야합니다.** 

### 제30조 기밀 유지 및 고객정보 보호

1. 협력사는 업무 수행 중 알게 된 고객 정보를 제3자에게 누설하거나 상업적으로 이용해서는 안 됩니다.
2. 협력사는 고객의 개인정보를 『개인정보 보호법』 및 회사의 『개인정보처리방침』에 따라 보호하여야하며, 위반 시 민형사상 책임이 부과될 수 있습니다.

### 제31조 분쟁 해결

1. 회사는 협력사가 제기하는 정당한 의견이나 불만을 반영하고 해결하기 위하여 고객센터를 설치·운영합니다.
2. 회사는 협력사로부터 제출되는 불만사항 및 의견을 우선적으로 처리합니다. 다만, 신속한 처리가 곤란한 경우에는 협력사에게 그 사유와 처리일정을 즉시 통보해 드립니다.

### 제 32조 준거법 및 재판권

1. 본 약관은 대한민국 법령에 의하여 규정되고 이행됩니다. 
2. 회사는 회원과의 분쟁이 발생할 경우 이의 해결을 위해 성실히 협의할 것이나, 그럼에도 불구하고 이에 관한 소송은 회사의 본사 소재지를 관할하는 법원을 전속 관할 법원으로 합니다.

### 부칙

### 협력업체 이용약관 버전번호: v.20250806

### 협력업체 이용약관 공고일자: 20250806

### 협력업체 이용약관 적용일자 : 20250825
`;

const PartnerApply = () => {
  const navigate = useNavigate();

  const [companyName, setCompanyName] = useState("");
  const [companyAddress, setCompanyAddress] = useState("");
  const [companyAddressDetail, setCompanyAddressDetail] = useState("");
  const [companyCareer, setCompanyCareer] = useState("");
  const [serviceAreas, setServiceAreas] = useState("");

  const [ceoName, setCeoName] = useState("");
  const [phone, setPhone] = useState("");
  const [passPhone, setPassPhone] = useState("");
  const [sentCode, setSentCode] = useState("");
  const [codeSentTo, setCodeSentTo] = useState("");

  const [timer, setTimer] = useState(0);
  const [timerId, setTimerId] = useState(null);
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [isLoading] = useState(false);
  const [isAddressOpen, setIsAddressOpen] = useState(false);

  // 약관 모달 & 동의 상태
  const [openTermsModal, setOpenTermsModal] = useState(false);
  const [agreeTerms, setAgreeTerms] = useState(false);

  useEffect(() => {
    return () => {
      if (timerId) clearInterval(timerId);
    };
  }, [timerId]);

  const generateRandomCode = () =>
    Math.floor(100000 + Math.random() * 900000).toString();

  const handleSendVerificationCode = async () => {
    if (!phone) return alert("전화번호를 입력해주세요.");

    const code = generateRandomCode();
    setSentCode(code);
    setCodeSentTo(phone.replace(/-/g, ""));
    setTimer(180);

    if (timerId) clearInterval(timerId);

    const id = setInterval(() => {
      setTimer((prev) => {
        if (prev <= 1) {
          clearInterval(id);
          setSentCode("");
          return 0;
        }
        return prev - 1;
      });
    }, 1000);

    setTimerId(id);

    try {
      await axios.post("https://api.coner.kr/sms/send", {
        to: phone.replace(/-/g, ""),
        text: `인증번호는 ${code}입니다.`,
      });
      alert("인증번호가 전송되었습니다.");
    } catch (error) {
      console.error(error);
      alert("인증번호 전송 실패: " + error.message);
    }
  };

  const handlePhoneChange = (e) => {
    let value = e.target.value.replace(/\D/g, "").slice(0, 11);
    if (value.length >= 4) value = value.slice(0, 3) + "-" + value.slice(3);
    if (value.length >= 9) value = value.slice(0, 8) + "-" + value.slice(8);
    setPhone(value);
  };

  const handleTermsCheckboxChange = (e) => {
    if (!agreeTerms) {
      e.preventDefault();
      setOpenTermsModal(true);
    } else {
      setAgreeTerms(false);
    }
  };

  const handleCreataccount = async () => {
    try {
      setIsSubmitting(true);

      if (!agreeTerms) {
        return alert("필수 약관에 동의해야 신청할 수 있습니다.");
      }

      if (
        !companyName ||
        !companyAddress ||
        !companyAddressDetail ||
        !companyCareer ||
        !serviceAreas ||
        !ceoName
      ) {
        return alert("모든 업체 정보를 입력해주세요.");
      }

      if (!phone || !passPhone) {
        return alert("전화번호와 인증번호를 입력해주세요.");
      }
      if (!sentCode) {
        return alert("인증번호가 만료되었습니다. 다시 요청해주세요.");
      }
      if (passPhone !== sentCode) {
        return alert("인증번호가 일치하지 않습니다.");
      }
      if (phone.replace(/-/g, "") !== codeSentTo) {
        return alert("인증번호를 받은 전화번호와 일치하지 않습니다.");
      }

      const formattedPhone = phone.replace(/-/g, "");
      const today = new Date();
      const registeredAt = `${today.getFullYear()}년 ${String(
        today.getMonth() + 1
      ).padStart(2, "0")}월 ${String(today.getDate()).padStart(2, "0")}일`;

      const partnerRef = doc(collection(db, "Partner"));
      const partnerId = partnerRef.id;

      const newPartner = {
        partner_id: partnerId,
        name: companyName,
        address: companyAddress,
        address_detail: companyAddressDetail,
        career: companyCareer,
        Area: [serviceAreas],
        owner_name: ceoName,
        owner_phone: formattedPhone,
        logo_image_url:
          "https://firebasestorage.googleapis.com/v0/b/coner-database.firebasestorage.app/o/logo_image_url%2F%EA%B8%B0%EB%B3%B8(%EC%BD%94%EB%84%88)%2Flogo_image.png?alt=media&token=ec886404-58da-4a5f-b8cc-c8fde2adebd3",
        status: 0,
        completed_request_count: 0,
        registered_at: registeredAt,
      };

      await setDoc(doc(db, "Partner", partnerId), newPartner);

      alert("협력업체 신청이 완료되었습니다.");
      navigate("/");
    } catch (error) {
      alert("신청 실패: " + (error.response?.data?.message || error.message));
    } finally {
      setIsSubmitting(false);
    }
  };

  const allRequiredAgreed = agreeTerms;

  return (
    <Container>
      <NavHeader to="/" title="협력업체 신청하기" />

      <NoticeBox>
        <p>신청 후 7일 영업일 이내에 담당자가 연락드릴 예정입니다.</p>
        <NoticeLink
          href="https://www.notion.so/harvies/CONER-21d5c6005f1280d5a479ccd4bf9b6c4c"
          target="_blank"
          rel="noopener noreferrer"
        >
          코너 협력업체 서비스 안내 보러가기 →
        </NoticeLink>
      </NoticeBox>

      <FormBox>
        <FormGroup>
          <TextField
            label="업체명"
            size="sm"
            placeholder="업체명 입력"
            value={companyName}
            onChange={(e) => setCompanyName(e.target.value)}
          />
        </FormGroup>

        <FormGroup>
          <TextField
            label="업체주소"
            size="sm"
            placeholder="클릭하여 주소 검색"
            readOnly
            value={companyAddress}
            onClick={() => setIsAddressOpen(true)}
          />
          <div style={{ height: "5px" }} />
          <TextField
            placeholder="상세주소 입력"
            size="sm"
            value={companyAddressDetail}
            onChange={(e) => setCompanyAddressDetail(e.target.value)}
          />
        </FormGroup>

        <FormGroup>
          <TextField
            label="업체경력"
            size="sm"
            placeholder="예) 10"
            value={companyCareer}
            onChange={(e) => {
              const onlyNumber = e.target.value.replace(/\D/g, "");
              setCompanyCareer(onlyNumber);
            }}
          />
        </FormGroup>

        <FormGroup>
          <TextField
            label="서비스 가능 지역"
            size="sm"
            placeholder="예) 동작구 동대문군, 중랑구 ... 가능지역 전부 입력해주세요"
            value={serviceAreas}
            onChange={(e) => setServiceAreas(e.target.value)}
          />
        </FormGroup>

        <FormGroup>
          <TextField
            label="대표님 성함"
            size="sm"
            placeholder="대표님 성함 입력"
            value={ceoName}
            onChange={(e) => setCeoName(e.target.value)}
          />
        </FormGroup>

        <FormGroup>
          <LabelRow>
            <span>대표님 휴대전화번호</span>
          </LabelRow>
          <InputGroup
            size="sm"
            inputProps={{
              placeholder: "전화번호 입력",
              inputMode: "numeric",
              autoComplete: "tel",
              value: phone,
              onChange: handlePhoneChange,
              maxLength: 13,
            }}
            buttonText={timer > 0 ? "재전송 대기" : "인증번호받기"}
            buttonDisabled={!phone || timer > 0 || isLoading}
            onButtonClick={handleSendVerificationCode}
          />
        </FormGroup>

        <FormGroup>
          <TextField
            label="인증번호 입력"
            size="sm"
            placeholder="6자리 인증번호 입력"
            maxLength={6}
            value={passPhone}
            onChange={(e) => setPassPhone(e.target.value)}
          />
          {timer > 0 && (
            <p style={{ color: "#999", fontSize: "13px", marginTop: "4px" }}>
              인증번호 유효 시간: {Math.floor(timer / 60)}:
              {String(timer % 60).padStart(2, "0")}
            </p>
          )}
        </FormGroup>

        {/* ── 단일 약관 체크박스 + 모달 ───────────────────────────── */}
        <TermsSection>
          <label>
            <input
              type="checkbox"
              checked={agreeTerms}
              onChange={handleTermsCheckboxChange}
            />
            서비스 이용약관에 동의합니다. <Required>(필수)</Required>
          </label>

          <Button size="sm" onClick={() => setOpenTermsModal(true)}>
            약관 보기
          </Button>
        </TermsSection>
      </FormBox>

      {/* 주소 검색 모달 */}
      {isAddressOpen && (
        <Modal
          open={isAddressOpen}
          onClose={() => setIsAddressOpen(false)}
          title="주소 검색"
          width={420}
          containerId="rightbox-modal-root"
        >
          <div style={{ width: "100%", height: "70vh" }}>
            <AddressModal
              onSelect={(addr) => setCompanyAddress(addr)}
              onClose={() => setIsAddressOpen(false)}
              serviceAreas={SERVICE_AREAS}
            />
          </div>
        </Modal>
      )}

      {/* 단일 약관 모달 */}
      <TermsAgreementModal
        open={openTermsModal}
        onClose={() => setOpenTermsModal(false)}
        title="서비스 이용약관"
        content={TERMS_TEXT}
        onAgree={() => {
          setAgreeTerms(true);
          setOpenTermsModal(false);
        }}
      />

      <Button
        fullWidth
        size="md"
        style={{ marginTop: 20, marginBottom: 24 }}
        onClick={handleCreataccount}
        disabled={isSubmitting || !allRequiredAgreed}
      >
        {isSubmitting ? "신청 중..." : "신청하기"}
      </Button>
    </Container>
  );
};

export default PartnerApply;

const Container = styled.div``;

const NoticeBox = styled.div`
  margin-top: 16px;
  padding: 14px 12px;
  background: #f9fbff;
  border: 1px solid #e0e6f5;
  border-radius: 8px;
  text-align: center;

  p {
    font-size: ${({ theme }) => theme.font.size.bodySmall};
    color: #333;
    margin-bottom: 8px;
  }
`;

const NoticeLink = styled.a`
  font-size: ${({ theme }) => theme.font.size.bodySmall};
  font-weight: 500;
  color: ${({ theme }) => theme.colors.primary};
  text-decoration: underline;
  cursor: pointer;
`;

const FormBox = styled.div`
  margin-top: 10px;
  border: 1px solid #eee;
  border-radius: 8px;
  padding: 20px 12px;
  background: #fff;
  @media (max-width: ${({ theme }) => theme.font.breakpoints.smobile}) {
    border: none;
    padding: 0px;
  }
`;

const FormGroup = styled.div`
  margin-bottom: 16px;
`;

const LabelRow = styled.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
  span {
    font-size: ${({ theme }) => theme.font.size.bodySmall};
    font-weight: ${({ theme }) => theme.font.weight.bold};
  }
`;

const TermsSection = styled.div`
  margin-top: 28px;
  display: flex;
  flex-direction: column;
  gap: 12px;

  label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: ${({ theme }) => theme.font.size.bodySmall};
  }

  input[type="checkbox"] {
    width: 15px;
    height: 15px;
  }
`;

const Required = styled.span`
  color: #0080ff;
`;
